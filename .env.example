# ===================================
# Database Configuration
# ===================================

# PostgreSQL Database (Local Docker)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/priceMonitor

# Production (Coolify internal URL - set in Coolify dashboard)
#DATABASE_URL=""

# ===================================
# Redis Configuration
# ===================================

# Connection string for the local Redis Docker container
REDIS_URL="redis://:@localhost:6379"

# Production (Coolify internal URL - set in Coolify dashboard)
# REDIS_URL=""

# ===================================
# AI Provider Configuration
# ===================================

# AI Provider Selection (openai | google | anthropic)
AI_PROVIDER="anthropic"

# Provider API Keys
OPENAI_API_KEY="..."
GOOGLE_GENERATIVE_AI_API_KEY="..."
ANTHROPIC_API_KEY="..."

# AI data models
# OpenAI: "gpt-4o-mini", "gpt-5-mini", "gpt-5.1", "gpt-5.2"
# Anthropic: "claude-3-5-haiku-20241022", "claude-3-haiku-20240307", "claude-haiku-4-5"
# Google Gemini: "gemini-1.5-flash", "gemini-2.5-flash", "gemini-3-flash-preview"
OPENAI_MODEL="gpt-5-mini"
ANTHROPIC_MODEL="claude-haiku-4-5"
GOOGLE_MODEL="gemini-2.5-flash"

# Debug: Force AI extraction (bypass HTML fetcher and Playwright selectors)
FORCE_AI_EXTRACTION=false

# ===================================
# Email Configuration
# ===================================

# Resend API Key (get from resend.com)
RESEND_API_KEY=""
EMAIL_FROM="Price Monitor <onboarding@resend.dev>"
ALERT_EMAIL="online.eric@gmail.com"

# ===================================
# Worker Configuration
# ===================================

# Enable scheduler for BullMQ repeatable jobs
# IMPORTANT: Only ONE worker instance should have this enabled
# Local Development: Set to "false" (manual triggers only)
# Production: Set to "true" for ONE worker instance only
ENABLE_SCHEDULER="false"

# Worker health server port (optional, defaults to 3001)
# WORKER_PORT=3001

# Worker API URL for web app to fetch worker version/health
# Local: http://localhost:3001
# Production (Coolify Internal URL): http://134.199.169.248.sslip.io/worker
WORKER_API_URL="http://localhost:3001"


# ===================================
# Node Environment
# ===================================

NODE_ENV="development"  # development | production

# ===================================
# Playwright DOM Stability Settings
# ===================================
# These control how Playwright waits for dynamic pages to finish rendering.
# Increase values for slower servers or heavily JS-rendered pages.

PLAYWRIGHT_MAX_WAIT_MS="15000"       # Max time (ms) to wait for DOM to stabilize before giving up
PLAYWRIGHT_QUIET_WINDOW_MS="1500"    # How long (ms) DOM must remain unchanged to be considered stable
